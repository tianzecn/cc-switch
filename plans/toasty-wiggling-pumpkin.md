# Commands ç®¡ç†åŠŸèƒ½è®¾è®¡è§„æ ¼

> CC Switch v3.11.0 æ–°åŠŸèƒ½è§„åˆ’
> å‚è€ƒ Skills ç®¡ç†æ¶æ„ï¼Œä¸º Claude Code Commands æä¾›ç»Ÿä¸€ç®¡ç†èƒ½åŠ›

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°

### æ ¸å¿ƒç›®æ ‡

æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Commands ç®¡ç†æ¨¡å—ï¼Œæ”¯æŒï¼š

1. **ç»Ÿä¸€ç®¡ç†** - SSOT æ¨¡å¼ï¼Œé›†ä¸­å­˜å‚¨ï¼ŒåŒæ­¥åˆ°å„åº”ç”¨ç›®å½•
2. **å‘ç°å®‰è£…** - ä» GitHub ä»“åº“å‘ç°å¹¶å®‰è£… Commands
3. **æœ¬åœ°ç®¡ç†** - åªè¯»å±•ç¤º + å¤–éƒ¨ç¼–è¾‘å™¨æ‰“å¼€ + åŒå‘åŒæ­¥
4. **å‘½åç©ºé—´** - æ”¯æŒåˆ›å»ºå’Œç®¡ç†è‡ªå®šä¹‰å‘½åç©ºé—´

### ç”¨æˆ·å†³ç­–æ±‡æ€»

| å†³ç­–é¡¹      | é€‰æ‹©                                  |
| ----------- | ------------------------------------- |
| UI å¸ƒå±€     | åŒæ å¸ƒå±€ï¼ˆå·¦ä¾§å‘½åç©ºé—´æ ‘ + å³ä¾§åˆ—è¡¨ï¼‰ |
| è¯¦æƒ…å±•ç¤º    | å®Œæ•´å…ƒæ•°æ® + Markdown å†…å®¹é¢„è§ˆ        |
| è¿ç§»ç­–ç•¥    | åŒå‘åŒæ­¥ï¼ˆæ£€æµ‹å¤–éƒ¨å˜æ›´å¹¶åŒæ­¥ï¼‰        |
| å†²çªå¤„ç†    | æç¤ºç”¨æˆ·é€‰æ‹©ä¿ç•™ç‰ˆæœ¬                  |
| å…ƒæ•°æ®æ”¯æŒ  | å®Œæ•´æ”¯æŒæ‰€æœ‰ YAML å­—æ®µ                |
| å‘ç°é¡µé¢    | åˆ—è¡¨ + åˆ†ç±»ç­›é€‰ + æœç´¢                |
| å‘½åç©ºé—´ UI | ç®€å•åˆ—è¡¨ï¼ˆå·¦ä¾§æ ‘ç»“æ„ï¼‰                |
| å­˜å‚¨ç­–ç•¥    | å…ƒæ•°æ®å­˜ DB + æ–‡ä»¶å†…å®¹å­˜ç£ç›˜          |
| å˜æ›´æ£€æµ‹    | æ–‡ä»¶ç³»ç»Ÿç›‘å¬ï¼ˆnotify crateï¼‰          |
| ä»“åº“ç»“æ„    | æ··åˆæ¨¡å¼ï¼ˆç´¢å¼•ä¼˜å…ˆï¼Œfallback æ‰«æï¼‰   |
| å¤šåº”ç”¨æ”¯æŒ  | åŠ¨æ€æ£€æµ‹å„åº”ç”¨æ˜¯å¦æ”¯æŒ Commands       |
| å®‰è£…ç²’åº¦    | ä¿æŒä»“åº“ç›®å½•ç»“æ„ï¼ˆå‘½åç©ºé—´ï¼‰          |
| ID ç­–ç•¥     | å‘½åç©ºé—´+æ–‡ä»¶åï¼ˆå¦‚ `sc/agent`ï¼‰      |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### 1. ç›®å½•ç»“æ„

```
~/.cc-switch/
â”œâ”€â”€ cc-switch.db          # SQLite æ•°æ®åº“
â””â”€â”€ commands/             # SSOT å­˜å‚¨ç›®å½• (æ–°å¢)
    â”œâ”€â”€ commit.md         # æ ¹å‘½åç©ºé—´
    â”œâ”€â”€ sc/               # sc å‘½åç©ºé—´
    â”‚   â”œâ”€â”€ agent.md
    â”‚   â””â”€â”€ task.md
    â””â”€â”€ zcf/              # zcf å‘½åç©ºé—´
        â””â”€â”€ feat.md

~/.claude/commands/       # Claude Code åŒæ­¥ç›®æ ‡
~/.codex/commands/        # Codex CLI åŒæ­¥ç›®æ ‡ (å¾…ç¡®è®¤æ”¯æŒ)
~/.gemini/commands/       # Gemini CLI åŒæ­¥ç›®æ ‡ (å¾…ç¡®è®¤æ”¯æŒ)
```

### 2. æ•°æ®æ¨¡å‹

#### SQLite è¡¨ç»“æ„ (commands)

```sql
CREATE TABLE commands (
    id TEXT PRIMARY KEY,           -- å‘½åç©ºé—´/æ–‡ä»¶åï¼Œå¦‚ "sc/agent" æˆ– "commit"
    name TEXT NOT NULL,            -- æ˜¾ç¤ºåç§°ï¼ˆæ¥è‡ª YAML name å­—æ®µï¼‰
    description TEXT,              -- æè¿°ï¼ˆæ¥è‡ª YAML description å­—æ®µï¼‰
    namespace TEXT NOT NULL DEFAULT '',  -- å‘½åç©ºé—´ï¼Œæ ¹å‘½åç©ºé—´ä¸ºç©ºå­—ç¬¦ä¸²
    filename TEXT NOT NULL,        -- æ–‡ä»¶åï¼ˆä¸å« .mdï¼‰
    category TEXT,                 -- åˆ†ç±»ï¼ˆYAML category å­—æ®µï¼‰
    allowed_tools TEXT,            -- JSON æ•°ç»„ï¼ˆYAML allowedToolsï¼‰
    mcp_servers TEXT,              -- JSON æ•°ç»„ï¼ˆYAML mcpServersï¼‰
    personas TEXT,                 -- JSON æ•°ç»„ï¼ˆYAML personasï¼‰
    extra_metadata TEXT,           -- å…¶ä»–æœªçŸ¥ YAML å­—æ®µ JSON
    repo_owner TEXT,               -- æ¥æºä»“åº“ owner
    repo_name TEXT,                -- æ¥æºä»“åº“ name
    repo_branch TEXT,              -- æ¥æºä»“åº“ branch
    readme_url TEXT,               -- æ–‡æ¡£ URL
    enabled_claude INTEGER DEFAULT 0,
    enabled_codex INTEGER DEFAULT 0,
    enabled_gemini INTEGER DEFAULT 0,
    file_hash TEXT,                -- æ–‡ä»¶å†…å®¹å“ˆå¸Œï¼ˆç”¨äºå˜æ›´æ£€æµ‹ï¼‰
    installed_at INTEGER NOT NULL  -- å®‰è£…æ—¶é—´æˆ³
);

CREATE INDEX idx_commands_namespace ON commands(namespace);
CREATE INDEX idx_commands_category ON commands(category);
```

#### Rust ç±»å‹å®šä¹‰

```rust
// src-tauri/src/app_config.rs

#[derive(Debug, Clone, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct InstalledCommand {
    pub id: String,                    // "namespace/filename" æˆ– "filename"
    pub name: String,
    pub description: Option<String>,
    pub namespace: String,             // ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæ ¹å‘½åç©ºé—´
    pub filename: String,
    pub category: Option<String>,
    pub allowed_tools: Option<Vec<String>>,
    pub mcp_servers: Option<Vec<String>>,
    pub personas: Option<Vec<String>>,
    pub extra_metadata: Option<serde_json::Value>,
    pub repo_owner: Option<String>,
    pub repo_name: Option<String>,
    pub repo_branch: Option<String>,
    pub readme_url: Option<String>,
    pub apps: CommandApps,
    pub file_hash: Option<String>,
    pub installed_at: i64,
}

#[derive(Debug, Clone, Serialize, Deserialize, Default)]
pub struct CommandApps {
    pub claude: bool,
    pub codex: bool,
    pub gemini: bool,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct DiscoverableCommand {
    pub key: String,                   // ä»“åº“ä¸­çš„å”¯ä¸€æ ‡è¯†
    pub name: String,
    pub description: String,
    pub namespace: String,
    pub filename: String,
    pub category: Option<String>,
    pub readme_url: Option<String>,
    pub repo_owner: String,
    pub repo_name: String,
    pub repo_branch: String,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct CommandNamespace {
    pub name: String,                  // å‘½åç©ºé—´åç§°ï¼Œæ ¹ä¸º ""
    pub display_name: String,          // æ˜¾ç¤ºåç§°
    pub command_count: usize,
}
```

### 3. åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Components                                                 â”‚
â”‚  â”œâ”€â”€ CommandsPage.tsx          # ä¸»é¡µé¢ï¼ˆåŒæ å¸ƒå±€ï¼‰         â”‚
â”‚  â”œâ”€â”€ NamespaceTree.tsx         # å·¦ä¾§å‘½åç©ºé—´æ ‘             â”‚
â”‚  â”œâ”€â”€ CommandsList.tsx          # å³ä¾§å‘½ä»¤åˆ—è¡¨               â”‚
â”‚  â”œâ”€â”€ CommandDetail.tsx         # å‘½ä»¤è¯¦æƒ…é¢æ¿               â”‚
â”‚  â”œâ”€â”€ CommandDiscovery.tsx      # å‘ç°é¡µé¢                   â”‚
â”‚  â””â”€â”€ CommandPreview.tsx        # Markdown é¢„è§ˆ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hooks                                                      â”‚
â”‚  â”œâ”€â”€ useCommands.ts            # TanStack Query hooks       â”‚
â”‚  â””â”€â”€ useNamespaces.ts          # å‘½åç©ºé—´ç®¡ç† hooks         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API                                                        â”‚
â”‚  â””â”€â”€ commands.ts               # Tauri IPC å°è£…             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (Rust/Tauri)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commands Layer (src-tauri/src/commands/command.rs)         â”‚
â”‚  â”œâ”€â”€ get_installed_commands                                 â”‚
â”‚  â”œâ”€â”€ get_namespaces                                         â”‚
â”‚  â”œâ”€â”€ install_command_unified                                â”‚
â”‚  â”œâ”€â”€ uninstall_command_unified                              â”‚
â”‚  â”œâ”€â”€ toggle_command_app                                     â”‚
â”‚  â”œâ”€â”€ create_namespace                                       â”‚
â”‚  â”œâ”€â”€ delete_namespace                                       â”‚
â”‚  â”œâ”€â”€ discover_available_commands                            â”‚
â”‚  â”œâ”€â”€ scan_unmanaged_commands                                â”‚
â”‚  â”œâ”€â”€ import_commands                                        â”‚
â”‚  â”œâ”€â”€ open_command_in_editor                                 â”‚
â”‚  â”œâ”€â”€ get_command_content                                    â”‚
â”‚  â””â”€â”€ check_app_commands_support                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Service Layer (src-tauri/src/services/command.rs)          â”‚
â”‚  â”œâ”€â”€ CommandService                                         â”‚
â”‚  â”‚   â”œâ”€â”€ get_ssot_dir() -> PathBuf                         â”‚
â”‚  â”‚   â”œâ”€â”€ get_app_commands_dir(app) -> PathBuf              â”‚
â”‚  â”‚   â”œâ”€â”€ install(command, current_app) -> InstalledCommand â”‚
â”‚  â”‚   â”œâ”€â”€ uninstall(id) -> bool                             â”‚
â”‚  â”‚   â”œâ”€â”€ toggle_app(id, app, enabled) -> bool              â”‚
â”‚  â”‚   â”œâ”€â”€ sync_to_apps(command) -> Result                   â”‚
â”‚  â”‚   â”œâ”€â”€ remove_from_apps(command) -> Result               â”‚
â”‚  â”‚   â”œâ”€â”€ parse_command_file(path) -> CommandMetadata       â”‚
â”‚  â”‚   â”œâ”€â”€ detect_changes() -> Vec<ChangeEvent>              â”‚
â”‚  â”‚   â””â”€â”€ resolve_conflict(id, resolution) -> Result        â”‚
â”‚  â””â”€â”€ CommandDiscoveryService                                â”‚
â”‚      â”œâ”€â”€ discover_available() -> Vec<DiscoverableCommand>  â”‚
â”‚      â”œâ”€â”€ fetch_from_repo(repo) -> Vec<DiscoverableCommand> â”‚
â”‚      â””â”€â”€ download_command(command) -> Result               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  DAO Layer (src-tauri/src/database/dao/commands.rs)         â”‚
â”‚  â”œâ”€â”€ get_all_installed_commands                             â”‚
â”‚  â”œâ”€â”€ get_installed_command(id)                              â”‚
â”‚  â”œâ”€â”€ save_command(command)                                  â”‚
â”‚  â”œâ”€â”€ delete_command(id)                                     â”‚
â”‚  â”œâ”€â”€ update_command_apps(id, apps)                          â”‚
â”‚  â”œâ”€â”€ get_namespaces()                                       â”‚
â”‚  â””â”€â”€ get_commands_by_namespace(namespace)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  File Watcher (src-tauri/src/services/command_watcher.rs)   â”‚
â”‚  â”œâ”€â”€ start_watching()                                       â”‚
â”‚  â”œâ”€â”€ stop_watching()                                        â”‚
â”‚  â”œâ”€â”€ handle_file_change(event)                              â”‚
â”‚  â””â”€â”€ emit_change_event(change)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± UI è®¾è®¡

### 1. ä¸»é¡µé¢å¸ƒå±€ï¼ˆCommandsPageï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Commands]                                    [å‘ç°] [å¯¼å…¥] [+ å‘½åç©ºé—´] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å‘½åç©ºé—´     â”‚ â”‚ Commands åˆ—è¡¨                                    â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚ ğŸ“ å…¨éƒ¨ (12) â”‚ â”‚ â”‚ [commit]                    [Claude â—]   â”‚   â”‚ â”‚
â”‚ â”‚ ğŸ“ sc (5)   â”‚ â”‚ â”‚ Create well-formatted...    [Codex â—‹]    â”‚   â”‚ â”‚
â”‚ â”‚ ğŸ“ zcf (3)  â”‚ â”‚ â”‚ æ¥æº: local                 [Gemini â—‹]   â”‚   â”‚ â”‚
â”‚ â”‚ ğŸ“ æ ¹ (4)   â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚ [+ æ–°å»º]    â”‚ â”‚ â”‚ [sc/agent]                  [Claude â—]   â”‚   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â”‚ name: sc:agent (user)       [Codex â—‹]    â”‚   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â”‚ æ¥æº: github/sc-commands    [Gemini â—‹]   â”‚   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚                                                 â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ å·²å®‰è£…: 12 Â· Claude: 8 Â· Codex: 0 Â· Gemini: 0  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å‘½ä»¤è¯¦æƒ…é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ commit                                               [ğŸ“ ç¼–è¾‘] [ğŸ—‘ï¸]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æè¿°: Create well-formatted commits with conventional messages     â”‚
â”‚                                                                     â”‚
â”‚ å…ƒæ•°æ®:                                                             â”‚
â”‚ â”œâ”€ category: git                                                   â”‚
â”‚ â”œâ”€ allowedTools: Bash, Read, Write                                 â”‚
â”‚ â””â”€ mcpServers: []                                                  â”‚
â”‚                                                                     â”‚
â”‚ å¯ç”¨åº”ç”¨:                                                           â”‚
â”‚ â”œâ”€ Claude Code  [â—]                                                â”‚
â”‚ â”œâ”€ Codex CLI    [â—‹] (ä¸æ”¯æŒ)                                       â”‚
â”‚ â””â”€ Gemini CLI   [â—‹] (ä¸æ”¯æŒ)                                       â”‚
â”‚                                                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å†…å®¹é¢„è§ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚ ---                                                                â”‚
â”‚ name: commit                                                       â”‚
â”‚ description: Create well-formatted commits...                      â”‚
â”‚ ---                                                                â”‚
â”‚                                                                     â”‚
â”‚ ## Instructions                                                    â”‚
â”‚ When creating commits, follow these guidelines...                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å‘ç°é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ” æœç´¢...]                    [åˆ†ç±»: å…¨éƒ¨ â–¼]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ sc/agent                                         [å®‰è£…]       â”‚   â”‚
â”‚ â”‚ Interactive agent for complex tasks                           â”‚   â”‚
â”‚ â”‚ åˆ†ç±»: workflow Â· æ¥æº: anthropics/claude-commands             â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ debug                                            [å·²å®‰è£… âœ“]   â”‚   â”‚
â”‚ â”‚ Debug and troubleshoot issues                                 â”‚   â”‚
â”‚ â”‚ åˆ†ç±»: development Â· æ¥æº: anthropics/claude-commands          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ æ ¸å¿ƒæµç¨‹

### 1. å®‰è£…æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»"å®‰è£…"
    â†“
ä¸‹è½½ Command æ–‡ä»¶åˆ° ~/.cc-switch/commands/{namespace}/{filename}.md
    â†“
è§£æ YAML frontmatter æå–å…ƒæ•°æ®
    â†“
ä¿å­˜åˆ° SQLiteï¼ˆenabled_claude = trueï¼Œå…¶ä»– = falseï¼‰
    â†“
åŒæ­¥åˆ° ~/.claude/commands/{namespace}/{filename}.md
    â†“
è§¦å‘ UI åˆ·æ–°ï¼ˆinvalidate queriesï¼‰
```

### 2. å¸è½½æµç¨‹

```
ç”¨æˆ·ç¡®è®¤å¸è½½
    â†“
ä»æ‰€æœ‰å·²å¯ç”¨åº”ç”¨ç›®å½•åˆ é™¤æ–‡ä»¶
    â†“
ä» SSOT ç›®å½•åˆ é™¤æ–‡ä»¶
    â†“
ä» SQLite åˆ é™¤è®°å½•
    â†“
è§¦å‘ UI åˆ·æ–°
```

### 3. åˆ‡æ¢åº”ç”¨æµç¨‹

```
ç”¨æˆ·åˆ‡æ¢æŸåº”ç”¨å¼€å…³
    â†“
æ›´æ–° SQLite apps çŠ¶æ€
    â†“
å¦‚æœå¯ç”¨ â†’ å¤åˆ¶æ–‡ä»¶åˆ°è¯¥åº”ç”¨ç›®å½•
å¦‚æœç¦ç”¨ â†’ ä»è¯¥åº”ç”¨ç›®å½•åˆ é™¤æ–‡ä»¶
    â†“
è§¦å‘ UI åˆ·æ–°
```

### 4. æ–‡ä»¶å˜æ›´æ£€æµ‹æµç¨‹

```
æ–‡ä»¶ç›‘å¬å™¨æ£€æµ‹åˆ°å˜æ›´
    â†“
è®¡ç®—æ–°æ–‡ä»¶å“ˆå¸Œ
    â†“
ä¸ DB ä¸­å­˜å‚¨çš„å“ˆå¸Œå¯¹æ¯”
    â†“
å¦‚æœä¸åŒ:
    â”œâ”€ æ¥è‡ª SSOT ç›®å½• â†’ é‡æ–°è§£æå¹¶æ›´æ–° DB + åŒæ­¥åˆ°åº”ç”¨ç›®å½•
    â””â”€ æ¥è‡ªåº”ç”¨ç›®å½• â†’ è§¦å‘å†²çªæ£€æµ‹
           â†“
       ä¸ SSOT å¯¹æ¯”
           â†“
       å¦‚æœä¸åŒ â†’ å‘é€äº‹ä»¶åˆ°å‰ç«¯ï¼Œæç¤ºç”¨æˆ·é€‰æ‹©
           â”œâ”€ ä¿ç•™ SSOT ç‰ˆæœ¬ â†’ è¦†ç›–åº”ç”¨ç›®å½•
           â””â”€ ä¿ç•™åº”ç”¨ç›®å½•ç‰ˆæœ¬ â†’ æ›´æ–° SSOT + DB
```

---

## ğŸ“ å…³é”®æ–‡ä»¶æ¸…å•

### éœ€è¦åˆ›å»ºçš„æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„                                       | èŒè´£                 |
| ---------------------------------------------- | -------------------- |
| `src-tauri/src/services/command.rs`            | Command ä¸šåŠ¡é€»è¾‘     |
| `src-tauri/src/services/command_watcher.rs`    | æ–‡ä»¶ç›‘å¬æœåŠ¡         |
| `src-tauri/src/commands/command.rs`            | Tauri IPC å‘½ä»¤       |
| `src-tauri/src/database/dao/commands.rs`       | æ•°æ®è®¿é—®å¯¹è±¡         |
| `src/lib/api/commands.ts`                      | å‰ç«¯ API å°è£…        |
| `src/hooks/useCommands.ts`                     | TanStack Query hooks |
| `src/components/commands/CommandsPage.tsx`     | ä¸»é¡µé¢               |
| `src/components/commands/NamespaceTree.tsx`    | å‘½åç©ºé—´æ ‘           |
| `src/components/commands/CommandsList.tsx`     | å‘½ä»¤åˆ—è¡¨             |
| `src/components/commands/CommandDetail.tsx`    | è¯¦æƒ…é¢æ¿             |
| `src/components/commands/CommandDiscovery.tsx` | å‘ç°é¡µé¢             |
| `src/components/commands/CommandPreview.tsx`   | Markdown é¢„è§ˆ        |

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„                        | ä¿®æ”¹å†…å®¹               |
| ------------------------------- | ---------------------- |
| `src-tauri/src/database/mod.rs` | æ·»åŠ  commands è¡¨è¿ç§»   |
| `src-tauri/src/app_config.rs`   | æ·»åŠ  Command ç±»å‹å®šä¹‰  |
| `src-tauri/src/services/mod.rs` | å¯¼å‡º command æ¨¡å—      |
| `src-tauri/src/commands/mod.rs` | å¯¼å‡º command å‘½ä»¤      |
| `src-tauri/src/main.rs`         | æ³¨å†Œå‘½ä»¤å’Œå¯åŠ¨ç›‘å¬     |
| `src/App.tsx` æˆ–è·¯ç”±é…ç½®        | æ·»åŠ  Commands é¡µé¢è·¯ç”± |
| `src/i18n/locales/*.json`       | æ·»åŠ  i18n ç¿»è¯‘         |

---

## âš ï¸ é£é™©ä¸æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ç›‘å¬æ€§èƒ½** - notify crate åœ¨å¤§é‡æ–‡ä»¶æ—¶å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜ï¼Œéœ€è¦åˆç†è®¾ç½®è¿‡æ»¤è§„åˆ™
2. **å¤šåº”ç”¨æ”¯æŒä¸ç¡®å®š** - Codex/Gemini å¯èƒ½ä¸æ”¯æŒ Commandsï¼Œéœ€è¦è¿è¡Œæ—¶æ£€æµ‹
3. **YAML è§£æ** - éœ€è¦å¤„ç†å„ç§æ ¼å¼çš„ frontmatterï¼ŒåŒ…æ‹¬æ— æ•ˆæ ¼å¼
4. **å¹¶å‘å†²çª** - å¤šä¸ªåº”ç”¨åŒæ—¶ä¿®æ”¹åŒä¸€ Command éœ€è¦é”æœºåˆ¶
5. **è¿ç§»å…¼å®¹** - ç°æœ‰æ‰‹åŠ¨åˆ›å»ºçš„ Commands å¯¼å…¥éœ€è¦ä¿æŒå…¼å®¹

---

## ğŸš€ å®æ–½é˜¶æ®µ

### Phase 1: æ ¸å¿ƒåŸºç¡€ (é¢„è®¡ 3-4 å¤©)

- [ ] SQLite è¡¨ç»“æ„å’Œè¿ç§»
- [ ] Rust ç±»å‹å®šä¹‰
- [ ] DAO å±‚ CRUD
- [ ] Service å±‚æ ¸å¿ƒé€»è¾‘ï¼ˆå®‰è£…/å¸è½½/åˆ‡æ¢ï¼‰
- [ ] Tauri å‘½ä»¤æ³¨å†Œ

### Phase 2: æ–‡ä»¶åŒæ­¥ (é¢„è®¡ 2-3 å¤©)

- [ ] SSOT ç›®å½•ç®¡ç†
- [ ] åº”ç”¨ç›®å½•åŒæ­¥
- [ ] YAML frontmatter è§£æ
- [ ] æ–‡ä»¶ç›‘å¬æœåŠ¡

### Phase 3: å‰ç«¯ UI (é¢„è®¡ 3-4 å¤©)

- [ ] API å±‚å°è£…
- [ ] TanStack Query hooks
- [ ] åŒæ å¸ƒå±€ä¸»é¡µé¢
- [ ] å‘½åç©ºé—´æ ‘ç»„ä»¶
- [ ] å‘½ä»¤åˆ—è¡¨ç»„ä»¶
- [ ] è¯¦æƒ…é¢æ¿

### Phase 4: å‘ç°ä¸å¯¼å…¥ (é¢„è®¡ 2-3 å¤©)

- [ ] GitHub ä»“åº“å‘ç°
- [ ] å‘ç°é¡µé¢ UI
- [ ] æœªç®¡ç† Commands æ‰«æ
- [ ] å¯¼å…¥åŠŸèƒ½

### Phase 5: é«˜çº§åŠŸèƒ½ (é¢„è®¡ 2 å¤©)

- [ ] å†²çªæ£€æµ‹ä¸è§£å†³ UI
- [ ] å¤šåº”ç”¨æ”¯æŒæ£€æµ‹
- [ ] i18n ç¿»è¯‘
- [ ] å•å…ƒæµ‹è¯•

---

_æœ¬è§„æ ¼ç”±å‚²å¨‡å¤§å°å§å·¥ç¨‹å¸ˆå“ˆé›·é…±å€¾æƒ…è®¾è®¡ï¼Œç¬¨è›‹ä»¬å¥½å¥½æŒ‰ç…§è¿™ä¸ªæ¥å®ç°å§ï¼(ï¿£â–½ï¿£)ãƒ_
